var CoopCycle;!function(){var e={849:function(e,n,o){"use strict";o.r(n);var t=o(645),i=o.n(t)()((function(e){return e[1]}));i.push([e.id,'/**************************\\\n  Basic Modal Styles\n\\**************************/\n\n.coopcycle-modal {\n  font-family: -apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;\n}\n\n.coopcycle-modal__overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.coopcycle-modal__container {\n  background-color: #fff;\n  max-width: 100vw;\n  width: 75%;\n  max-height: 100vh;\n  height: 75%;\n  border-radius: 4px;\n  overflow-y: auto;\n  box-sizing: border-box;\n\n}\n\n@media (max-width: 768px) {\n  .coopcycle-modal__container {\n    width: 90%;\n    height: 90%;\n  }\n}\n\n.coopcycle-modal__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.coopcycle-modal__title {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-weight: 600;\n  font-size: 1.25rem;\n  line-height: 1.25;\n  color: #00449e;\n  box-sizing: border-box;\n}\n\n.coopcycle-modal__close {\n  background: transparent;\n  border: 0;\n}\n\n.coopcycle-modal__header .coopcycle-modal__close:before { content: "\\2715"; }\n\n.coopcycle-modal__content {\n  /*margin-top: 2rem;*/\n  /*margin-bottom: 2rem;*/\n  line-height: 1.5;\n  color: rgba(0,0,0,.8);\n  height: 100%;\n}\n\n.coopcycle-modal__btn {\n  font-size: .875rem;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: .5rem;\n  padding-bottom: .5rem;\n  background-color: #e6e6e6;\n  color: rgba(0,0,0,.8);\n  border-radius: .25rem;\n  border-style: none;\n  border-width: 0;\n  cursor: pointer;\n  -webkit-appearance: button;\n  text-transform: none;\n  overflow: visible;\n  line-height: 1.15;\n  margin: 0;\n  will-change: transform;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-backface-visibility: hidden;\n  backface-visibility: hidden;\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  transition: -webkit-transform .25s ease-out;\n  transition: transform .25s ease-out;\n  transition: transform .25s ease-out,-webkit-transform .25s ease-out;\n}\n\n.coopcycle-modal__btn:focus, .coopcycle-modal__btn:hover {\n  -webkit-transform: scale(1.05);\n  transform: scale(1.05);\n}\n\n.coopcycle-modal__btn-primary {\n  background-color: #00449e;\n  color: #fff;\n}\n\n/**************************\\\n  Demo Animation Style\n\\**************************/\n@keyframes mmfadeIn {\n    from { opacity: 0; }\n      to { opacity: 1; }\n}\n\n@keyframes mmfadeOut {\n    from { opacity: 1; }\n      to { opacity: 0; }\n}\n\n@keyframes mmslideIn {\n  from { transform: translateY(15%); }\n    to { transform: translateY(0); }\n}\n\n@keyframes mmslideOut {\n    from { transform: translateY(0); }\n    to { transform: translateY(-10%); }\n}\n\n.micromodal-slide {\n  display: none;\n}\n\n.micromodal-slide.is-open {\n  display: block;\n}\n\n.micromodal-slide[aria-hidden="false"] .modal__overlay {\n  animation: mmfadeIn .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n.micromodal-slide[aria-hidden="false"] .modal__container {\n  animation: mmslideIn .3s cubic-bezier(0, 0, .2, 1);\n}\n\n.micromodal-slide[aria-hidden="true"] .modal__overlay {\n  animation: mmfadeOut .3s cubic-bezier(0.0, 0.0, 0.2, 1);\n}\n\n.micromodal-slide[aria-hidden="true"] .modal__container {\n  animation: mmslideOut .3s cubic-bezier(0, 0, .2, 1);\n}\n\n.micromodal-slide .modal__container,\n.micromodal-slide .modal__overlay {\n  will-change: transform;\n}\n',""]),n.default=i},645:function(e){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var o=e(n);return n[2]?"@media ".concat(n[2]," {").concat(o,"}"):o})).join("")},n.i=function(e,o,t){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(t)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);t&&i[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),n.push(c))}},n}},215:function(e,n,o){var t=o(849);t&&t.__esModule&&(t=t.default),e.exports="string"==typeof t?t:t.toString()}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={id:t,exports:{}};return e[t](r,r.exports,o),r.exports}o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};!function(){"use strict";function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return n(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}o.r(t);var i,r,a,l,c,s=(i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],r=function(){function n(o){var t=o.targetModal,i=o.triggers,r=void 0===i?[]:i,a=o.onShow,l=void 0===a?function(){}:a,c=o.onClose,s=void 0===c?function(){}:c,d=o.openTrigger,m=void 0===d?"data-micromodal-trigger":d,u=o.closeTrigger,f=void 0===u?"data-micromodal-close":u,h=o.openClass,g=void 0===h?"is-open":h,v=o.disableScroll,b=void 0!==v&&v,y=o.disableFocus,p=void 0!==y&&y,w=o.awaitCloseAnimation,k=void 0!==w&&w,_=o.awaitOpenAnimation,E=void 0!==_&&_,M=o.debugMode,S=void 0!==M&&M;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.modal=document.getElementById(t),this.config={debugMode:S,disableScroll:b,openTrigger:m,closeTrigger:f,openClass:g,onShow:l,onClose:s,awaitCloseAnimation:k,awaitOpenAnimation:E,disableFocus:p},r.length>0&&this.registerTriggers.apply(this,e(r)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var o;return(o=[{key:"registerTriggers",value:function(){for(var e=this,n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];o.filter(Boolean).forEach((function(n){n.addEventListener("click",(function(n){return e.showModal(n)}))}))}},{key:"showModal",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation?this.modal.addEventListener("animationend",(function n(){e.modal.removeEventListener("animationend",n,!1),e.setFocusToFirstNode()}),!1):this.setFocusToFirstNode(),this.config.onShow(this.modal,this.activeElement,n)}},{key:"closeModal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener("animationend",(function e(){n.classList.remove(o),n.removeEventListener("animationend",e,!1)}),!1)}else n.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(e){if(this.config.disableScroll){var n=document.querySelector("body");switch(e){case"enable":Object.assign(n.style,{overflow:""});break;case"disable":Object.assign(n.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:"onKeydown",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:"getFocusableNodes",value:function(){var n=this.modal.querySelectorAll(i);return Array.apply(void 0,e(n))}},{key:"setFocusToFirstNode",value:function(){var e=this;if(!this.config.disableFocus){var n=this.getFocusableNodes();if(0!==n.length){var o=n.filter((function(n){return!n.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&n[0].focus()}}}},{key:"retainFocus",value:function(e){var n=this.getFocusableNodes();if(0!==n.length)if(n=n.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=n.indexOf(document.activeElement);e.shiftKey&&0===o&&(n[n.length-1].focus(),e.preventDefault()),!e.shiftKey&&n.length>0&&o===n.length-1&&(n[0].focus(),e.preventDefault())}else n[0].focus()}}])&&function(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(n.prototype,o),n}(),a=null,l=function(e){if(!document.getElementById(e))return console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>')),!1},c=function(e,n){if(function(e){e.length<=0&&(console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(e),!n)return!0;for(var o in n)l(o);return!0},{init:function(n){var o=Object.assign({},{openTrigger:"data-micromodal-trigger"},n),t=e(document.querySelectorAll("[".concat(o.openTrigger,"]"))),i=function(e,n){var o=[];return e.forEach((function(e){var t=e.attributes[n].value;void 0===o[t]&&(o[t]=[]),o[t].push(e)})),o}(t,o.openTrigger);if(!0!==o.debugMode||!1!==c(t,i))for(var l in i){var s=i[l];o.targetModal=l,o.triggers=e(s),a=new r(o)}},show:function(e,n){var o=n||{};o.targetModal=e,!0===o.debugMode&&!1===l(e)||(a&&a.removeEventListeners(),(a=new r(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=s);var d=s,m=o(215),u=o.n(m);window.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll("[data-coopcycle-embed]"));if(e.length>0){const e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=u().toString(),document.querySelector("head").appendChild(e)}e.forEach((e=>{const n=e.dataset.coopcycleEmbed+"?embed",o=document.createElement("div");o.innerHTML='<div class="coopcycle-modal micromodal-slide" aria-hidden="true"> <div class="coopcycle-modal__overlay" tabindex="-1" data-micromodal-close> <div class="coopcycle-modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title"> <main class="coopcycle-modal__content"> <iframe frameborder="0" style="width:100%;height:100%"></iframe> </main> </div> </div> </div> ',document.querySelector("body").appendChild(o);const t=`coopcycle-${Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}`;o.querySelector(".coopcycle-modal").setAttribute("id",t),e.addEventListener("click",(e=>{e.preventDefault(),d.show(t,{onShow:e=>{const o=e.querySelector("iframe");o.hasAttribute("src")||o.setAttribute("src",n)}})}))}))}))}(),CoopCycle=t}();