{% extends "base.html.twig" %}

{% form_theme form 'bootstrap_3_layout.html.twig' %}

{% block body %}
<div class="navbar-coopcycle">
  <div class="container">
    <h5>{{ 'registration.navigation.title'|trans }}</h5>
  </div>
</div>
<div class="main">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="info-section rounded">
          <h5>{{ 'registration.info.title'|trans }}</h5>
          <p>{{ 'registration.info.text'|trans }}</p>
        </div>
        <img src="{{ asset('img/registration-image.svg') }}">
      </div>
      <div class="col-md-6">
        <div class="alert alert-info">
          <i class="fa fa-info-circle"></i>
          {% trans with {
            '%brandName%': coopcycle_setting('brand_name'),
            '%invitedBy%': invitationUser.customer ? invitationUser.customer.fullname : invitationUser.username
          } %}registration.alert.text{% endtrans %}
        </div>
        <div class="form-section">
          <div class="header rounded-top">
            <h5>{{ 'registration.form.title'|trans }}</h5>
          </div>
          <div class="rounded-bottom">
            {{ form_start(form) }}
              {{ form_row(form.username) }}
              {{ form_row(form.email) }}
              <div class="row">
                <div class="col-md-6">
                  {{ form_row(form.plainPassword.first) }}
                </div>
                <div class="col-md-6">
                  {{ form_row(form.plainPassword.second) }}
                </div>
              </div>
              {% if form.legal is defined %}
                {{ form_row(form.legal) }}
              {% elseif form.termsAndConditionsAndPrivacyPolicy is defined %}
                {{ form_row(form.termsAndConditionsAndPrivacyPolicy) }}
              {% endif %}
              {% for optin in form.optins.vars.value|split(',') %}
                {{ form_row(form[optin]) }}
              {% endfor %}
              <div class="row">
                <div class="col-md-6"></div>
                <div class="col-md-6">
                  <button name="{{ field_name(form.save) }}" type="submit" class="btn btn-block btn-md bg-primary">
                    {{ 'registration.submit'|trans({}, 'NucleosProfileBundle') }}
                    <i class="fa fa-angle-right ml-2"></i>
                  </button>
                </div>
              </div>
            {{ form_end(form) }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% if form.termsAndConditionsAndPrivacyPolicy is defined %}
  <div id="termsAndConditionsAndPrivacyPolicy">
  </div>
{% endif %}

{% endblock %}

{% block styles %}
  {{ encore_entry_link_tags('register') }}
{% endblock %}

{% block scripts %}
  {{ encore_entry_script_tags('register') }}
{% endblock %}
