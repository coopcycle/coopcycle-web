include:
  - address_store.yml
  - address_warehouse.yml
  - address_client_1.yml

AppBundle\Entity\Delivery\PricingRuleSet:
  pricing_rule_set:
    name: Default
    rules: [ '@pricing_rule' ]

AppBundle\Entity\Delivery\PricingRule:
  pricing_rule:
    expression: 'distance \> 100000'
    price: 499
    position: 1
    ruleSet: '@pricing_rule_set'

AppBundle\Entity\Store:
  store_1:
    name: 'Acme'
    address: '@address_store'
    enabled: true
    pricingRuleSet: '@pricing_rule_set'
    __calls:
      - addAddress: [ "@address_warehouse" ]
      - addAddress: [ "@address_client_1" ]

AppBundle\Entity\User:
  store_owner:
    __factory:
      '@Nucleos\UserBundle\Util\UserManipulator::create':
        - 'store_1'
        - 'store_1'
        - 'store1@coopcycle.org'
        - true
        - false
    roles: [ 'ROLE_USER', 'ROLE_STORE' ]
    stores: [ '@store_1' ]
